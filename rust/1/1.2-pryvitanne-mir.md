# 1.2 Прывітанне, мір!

Зараз, калі вы ўсталявалі Hаст, настаў час пабудаваць свою першую праграму. Традыцыйна пры вывучэнні новага языка вучні пішуць невялічкую праграму якая выводзіць на экран тэкст `Прывітанне, мір!`, пагэтуль мы зробім тое ж самае.&#x20;

{% hint style="info" %}
Нататка: Гэтая кніга чакае ад чытача базавага ўзроўню знаёмства з інтарфэйсам каманднага радка. Раст не выстаўляе неякіх асабовых патрабаванняў да стыля афармлення, або прылад ці месца ў якім існуе ваша кодавая база, такім чынам, калі вы аддаеце перавагу інтэграваным сяродам будаўніцтва праграмнага забяспечання (ІСБу) замест каманднага радка - выкарыстоўвайце павольна сваю любімую ICБу. Мноства ІСБу ужо зараз маюць неякі ўзровень падтрымкі Раст; праверце дакументацыю да сваёй ІСБу. Каманда Раст заўсёды факусавалася на магчымасці падрабязнай падтрымкі ІСБу праз `rust-analyzer` . Глядзіце [Дадатак Г](https://doc.rust-lang.org/stable/book/appendix-04-useful-development-tools.html) за дадатковымі ведамі.&#x20;
{% endhint %}

## Стварэнне дэрыкторыі праекту

Вы пачнеце з сварэння папкі для захоўвання вашага кода на Раст. Для Раста няважна дзе ваш код будзе знаходзіцца, каб усе практыкаванні з праектамі ў гэтай кнізе не страціліся, мы прапануем зрабіць _projects_ папку ў вашай хатняй дэрыкторыі да трымаць усе вашы праекты там.&#x20;

Адкрыйце ваш тэрмінал каб увесці наступныя каманды якія ствараюць папку _projects_ а так сама папку для "Прывітанне, мір!"-праекту ў вашай хатняй дэрыкторыі.&#x20;

Для Лінукс, макАС або PowerShell на Віндаўс, увядзіце наступнае:&#x20;

```bash
$ mkdir ~/projects
$ cd ~/projects
$ mkdir hello_world
$ cd hello_world
```

Для Віндаўс CMD, карыстайцеся радкамі побач:&#x20;

```sh
> mkdir "%USERPROFILE%\projects"
> cd /d "%USERPROFILE%\projects"
> mkdir hello_world
> cd hello_world
```

## Пабудова ды Запуск Праграмы Раст

Наступным чынам, давайце стварым новы файл з ісходнікам і назавем яго _main.rs_. Файлы Раст заўсёды заканчваюцца на _.rs_. Калі мы выкарыстоўваем больш за слова ў імяні файла, па канвенцыі ветліва выкарыстоўваць падкрэсліванне каб абасобіць вашы некалькі слоў. Напрыклад, лепей выкарыстоўваць _hello\_world.rs_ чым _helloworld.rs_.

Зараз давайце адкрыем _main.rs_ файл які мы раптам ці не раптам стварылі і ўвядзем наступныя радкі коду з Лістынга 1-1.

&#x20;

#### Лістынг 1-1: праграма, якая пячатае \`Прывітанне, мір!\`&#x20;

{% code title="main.rs" %}
```rust
fn main() {
    println!("Прывітанне, мір!");
}
```
{% endcode %}

Захавайце гэты файл і вярніцесь у сваім акне тэрмінала ў _\~/projects/hello\_world_ папку. На Лінукс або макАС, увядзіце наступные каманды каб скампіляваць і запусціць файл:

```bash
$ rustc main.rs
$ ./main
Прывітанне, мір!
```

На Віндаўс, увядзіце каманду `.\main.exe` замест `./main` :

```bash
> rustc main.rs
> .\main.exe
Прывітанне, мір!
```

Нягледзячы на аперацыйную сістэму якую вы выкарыстоўваеце, радок `Прывітанне, мір!` будзе вывядзен у тэрмінале. Калі вы не бачыце вывад, прагледзьце яшчэ раз  у папярэдняй частцы [#likvidacyya-nepaladak](1.1-ustano-ka.md#likvidacyya-nepaladak "mention").&#x20;

Калі `Прывітанне, мір!` вывялася, віншуем! Вы афіцыйна пабудавалі праграму на Раст. Гэта робіць вас праграмістам на Раст - вітаем!

## Анатомія праграмы Раст

Давайце паглядзім на нашу "Прывітанне, мір!" праграму ў дэталях:&#x20;

```rust
fn main() {

}
```

У дадзеных радках вызначана функцыя з назвай `main`. Дадзеная `main` функцыя спецыяльная: яна заўсёды змяшчае код, які самым першым запускаецца ў кожнай праграме на Раст. Першы радок тут дэкларуе функцыю з назвай `main` якая не мае ніякіх параметраў або нешта звяртае. Калі функцыя чакала бы якія небудзь параметры, яны былі б аб'яўлены паміж круглых дужак `()`.&#x20;

Цела функцыі загорнута ў `{}`. Раст патрабуе такія фігурныя дужкі вакол усіх цел функцый. Добрым стылем лічыцца размяшчэнне фігурнай дужкі на тым жа самым радку дзе знаходзіцца аб'яўленне функцыі, дадаючы прабел паміж імі.&#x20;

{% hint style="info" %}
Нататка: Калі вы жадаеце прытрымлівацца стандартага стылю фарматавання коду ва ўсіх праектах Раст, вам дапаможа фарматавальнік коду, прылада з назвай `rustfmt` (больш інфармацыі пра `rustfmt` глядзіце ў Дадатку Г). Каманда Раст дадала гэтую прыладу ў звычайную дістрыб'юцыю, гэтак жа як і `rustс`таму ён ужо павінен быць усталяваны на ваш камп'ютэр!
{% endhint %}

Цела функцыі `main` трымае наступны код:

```rust
    println!("Прывітанне, мір!");
```

Дадзены радок робіць усю працу ў нашай невялічкай праграмцы - пячатае тэкст на экране. Мае сэнс заўважыць тут чатыры важных дэталі.&#x20;

Першая, у стыле Раст рабіць водступ у чатыры прабелы не дадаючы сімвала табуляцыі.

Другая, `println!` выклікае макрас у Раст. Калі мы бы жадалі выклікаць функцыю замест макраса, яна была бы запісана ў кодзе як `println` (без клічніка `!`). У Частке 19 мы абмяркуем   макрасы ў Раст больш дэталёва. Зараз, вы толькі павінны ведаць што выкарыстоўванне `!` абазначае што ў дадзеным радку будзе выклікацца макрас замест звычайнай функцыі а макрас не заўсёды працуе па тым жа правілам, па якім працуе функцыя. &#x20;

Трэцце, вы бачыце радок "Прывітанне, мір!". Мы перадаем гэтую страку ў `println!` як аргумент пры выкліку макраса, а пасля страка пячатаецца на экране. Не чароўна лі гэта? &#x20;

Чацвертае, мы скончым радок выкарыстоўваючы кропу з коскай (`;`), якая паказвае што наш выраз скончаны і наступны выраз мае дазваленне быць надрукаваным. Большасць радкоў у Раст сканчаецца кропкай з коскай.&#x20;

## Кампіляцыя і Выкананне Гэта Асобныя Крокі

Вы толькі што запусцілі свежую праграму, так што давайце разглядзім кожны крок у паслядоўна.&#x20;

Перш чым выканаць праграму Раст, вам патрэбна скампіляваць яго, выкарыстоўваючы Раст кампілятар. Мы робім гэта, ўжывая `rustc` каманду і перадаючы імя вашага файла-ісходніка, напрыклад:&#x20;

```bash
$ rustc main.rs
```

Калі ў вас ёсць вопыт з C але С++, магчыма заўважысь што гэтая каманда падобна да `gcc` або `clang`. Пасля паспяховай кампіляцыі, Раст выдае бінарны выканаўчы файл.&#x20;

На Лінукс, макАС, ці PowerShell на Віндаўс, вы можаце пабачыць прысутнасць выканаўчага файла выкарыстоўвая `ls` каманду ў вашай абалонцы:&#x20;

```bash
$ ls
main  main.rs
```

На Лінукс ці макАС, вы пабачыце два файла. Ужывая PowerShell на Віндаўс, вы пабачыце тры файлы, такіяж самыя, якія вы будзеце бачыць выкарыстоўвая CMD. На Віндаўс увядзіце наступныя радкі:&#x20;

{% code overflow="wrap" %}
```powershell
> dir /B %= the /B option says to only show the file names =%

main.exe
main.pdb
main.rs
```
{% endcode %}

Гэта каманда паказвае файл-ісходнік з `.rs`-пашырэннем, выканаўчы файл (_main.exe_ на Віндаўс - _main_ на ўсіх астатніх платформах), так сама, калі вы выкарыстоўваеце Віндаўс,  файл, які змяшчае інфармацыю дзеля адладкі памылак з `.pdb` пашырэннем. Пачынаючы адсюль, у вас ёсць магчымасць выканаць _main_ або _main.exe_ файл, напрыклад як тут:&#x20;

```bash
$ ./main # or .\main.exe on Windows
```

Калі ваш _main.rs_ гэта ваша праграма "Прывітанне, мір!",  радок `Прывітанне, мір!` будзе напячатан у вашай абалонцы.&#x20;

Калі вы больш знаёмы з дынамічнымі языкамі, такімі як Ruby, Python, або JavaScript, вы напэўна не прывыклі кампіляваць і выконваць праграму асобнымі крокамі. Раст - гэта  датэрмінова кампілюючыся язык, гэта азначае, што вы можаце  скампіляваць праграму і даць ваканаучы файл каму небудзь яшчэ, а атрымальнік ў сваю чаргу можа выканаць гэты файл не маючы Раст на сваёй машыне. Калі вы даеце каму небудзь _.rb,_ _.py_ або _.js_ файл, ім патрэбна маць на сваім камп'ютары Ruby, Python, або JavaScript рэалізацыю усталяванай (саадносна). Але у тых языках, вам толькі патрабуецца ўвесі адзіную каманду каб скампіляваць і выканаць вашу праграму. У дызайне языкоў праграмавання ёсць яшчэ шмат кампрамісаў.&#x20;

Звычайная кампіляцыя за дапамогай `rustc` мае сэнс дзе ля простых праграм, але калі ваш праект расце, вы можаце пажадаць кіраваць усімі параметрамі і палегчыць працэс абмену кодам. У наступнай частцы, мы вас пазнаёмім з прыладай Карго, якая будзе давапамагаць вам пісаць рэяльныя праграмы на Раст.&#x20;
